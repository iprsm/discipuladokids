<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Treinamentos</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f4f4f4; }
    header { background: #333; color: #fff; padding: 10px; text-align: center; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px; padding: 20px; }
    .card { background: #fff; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); overflow: hidden; cursor: pointer; transition: transform 0.2s; }
    .card:hover { transform: scale(1.03); }
    .card img { width: 100%; height: 150px; object-fit: cover; }
    .card h3 { margin: 10px; font-size: 16px; }
    .modal { position: fixed; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s; }
    .modal.open { opacity: 1; pointer-events: all; }
    .modal-content { background:#fff; border-radius:10px; max-width:800px; width:100%; padding:20px; position: relative; }
    .modal iframe { width: 100%; height: 450px; border: none; }
    .close { position: absolute; top:10px; right:10px; background:#333; color:#fff; border:none; border-radius:50%; width:30px; height:30px; cursor:pointer; }
    .pdf-btn { display:inline-block; margin-top:10px; padding:10px 15px; background:#007BFF; color:#fff; border-radius:5px; text-decoration:none; }
  </style>
</head>
<body>

<header>
  <h1>Treinamentos</h1>
</header>

<div class="grid" id="videoGrid"></div>

<div class="modal" id="videoModal" aria-hidden="true">
  <div class="modal-content">
    <button class="close" id="closeModal">X</button>
    <h2 id="nowTitle"></h2>
    <iframe id="videoPlayer" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    <a id="pdfBtn" class="pdf-btn" href="#" target="_blank">Abrir Apostila</a>
  </div>
</div>

<script>
  const VIDEOS = [
    { id: "dQw4w9WgXcQ", title: "Introdução ao Projeto", category: "Treinamentos", tags: ["onboarding","aula 1"], thumb: "https://i.imgur.com/YGut6uX.png", pdf: "treinamento_iprsmkids/apostilas/introducao.pdf" },
    { id: "a1b2c3d4e5", title: "Atividades", category: "Rotinas", tags: ["onboarding","aula 1"], thumb: "https://i.imgur.com/jYxd6dP.png", pdf: "treinamento_iprsmkids/apostilas/introducao.pdf" },
    { id: "z9y8x7w6v5", title: "Módulo 1", category: "Treinamentos", tags: ["processos","operacional"], thumb: "https://i.imgur.com/fQ07Fkq.png", pdf: "treinamento_iprsmkids/apostilas/modulo2.pdf" }
  ];

  const grid = document.getElementById('videoGrid');
  const modal = document.getElementById('videoModal');
  const player = document.getElementById('videoPlayer');
  const nowTitle = document.getElementById('nowTitle');
  const pdfBtn = document.getElementById('pdfBtn');
  const closeBtn = document.getElementById('closeModal');

  function openPlayer(v){
    player.src = `https://www.youtube.com/embed/${v.id}?autoplay=1&rel=0&modestbranding=1&controls=1`;
    nowTitle.textContent = v.title;
    if (v.pdf) {
      pdfBtn.href = v.pdf;
      pdfBtn.style.display = 'inline-block';
    } else {
      pdfBtn.style.display = 'none';
    }
    modal.classList.add('open');
    modal.setAttribute('aria-hidden','false');
  }

  function closePlayer(){
    player.src = "";
    modal.classList.remove('open');
    modal.setAttribute('aria-hidden','true');
  }

  closeBtn.addEventListener('click', closePlayer);

  VIDEOS.forEach(v => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `<img src="${v.thumb}" alt="${v.title}"><h3>${v.title}</h3>`;
    card.onclick = () => openPlayer(v);
    grid.appendChild(card);
  });
</script>

</body>
</html>
